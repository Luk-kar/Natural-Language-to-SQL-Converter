<div id="query-results" class="tab-pane active">

    <div class="sql-container">
        <pre class="sql-display">
            {%- if result.sql|length > 200 -%}
                {{ result.sql[:200] }}...
            {%- else -%}
                {{ result.sql }}
                <span class="sql-info-icon">â“˜</span>
            {%- endif -%}
        </pre>
        {% if result.sql|length > 200 %}
            <span class="show-full-query" data-full="{{ result.sql }}">Show full query</span>
        {% endif %}
    </div>
    
    {% if result.execution.error %}

        {% include 'components/notifications/error_execution.html' %}

    {% elif result.execution.message %}

        <p>{{ result.execution.message }}</p>

    {% elif result.execution.columns and result.execution.data %}

        <div class="table-container">

            <table>
                <tr>
                    {% for col in result.execution.columns %}
                        <th>{{ col }}</th>
                    {% endfor %}
                </tr>
                {% for row in result.execution.data %}
                    <tr>
                        {% for val in row %}
                            <td>{{ val }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </table>

        </div>
    {% else %}

        {% include 'components/notifications/note_no_results.html' %}

    {% endif %}
</div>
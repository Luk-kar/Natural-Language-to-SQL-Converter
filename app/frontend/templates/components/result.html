{% if result %}
{% if result.error %}
    <p style="color: red;">Error: {{ result.error }}</p>
{% elif result.describe %}
<div style="background-color: #f4f4f4; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">{{ result.describe }}</div>
{% elif result.sql %}
    <nav class="navbar">
        <a href="#" class="tab-link active" data-tab="query-results">Query Results</a>
        <a href="#" class="tab-link" data-tab="chart">Chart</a>
    </nav>
    <div class="tab-content">
        <div id="query-results" class="tab-pane active">
            <pre>{{ result.sql }}</pre>
            {% if result.execution.error %}
                <p style="color: red;">Execution Error: {{ result.execution.error }}</p>
            {% elif result.execution.message %}
                <p>{{ result.execution.message }}</p>
            {% elif result.execution.columns and result.execution.data %}
                <!-- Changed: Removed border attribute -->
                <div class="table-container">
                    <table>
                        <tr>
                            {% for col in result.execution.columns %}
                                <th>{{ col }}</th>
                            {% endfor %}
                        </tr>
                        {% for row in result.execution.data %}
                            <tr>
                                {% for val in row %}
                                    <td>{{ val }}</td>
                                {% endfor %}
                            </tr>
                        {% endfor %}
                    </table>
                </div>
            {% else %}
                <p style="color: red;">Error: No results found.</p>
            {% endif %}
        </div>
        <div id="chart" class="tab-pane" data-loaded="false">
            <div id="chart-container"></div>
        </div>
    </div>
{% else %}
    <p style="color: red;">Error: No results found.</p>
{% endif %}
{% endif %}